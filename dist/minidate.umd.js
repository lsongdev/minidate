!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(e){return this instanceof t?(this.date=t.from(e),this):new t(e)}t.from=function(e,n){var a,o=typeof e;switch(null===e&&(o="null"),e instanceof Date&&(o="date"),o){case"string":a=t.parse(e);break;case"number":a=new Date(e);break;case"object":n=n?"UTC":"",a=new Date(0),void 0!==e.year&&a["set"+n+"Year"](+e.year),void 0!==e.date&&a["set"+n+"Date"](+e.date),void 0!==e.month&&a["set"+n+"Month"](+e.month-1),void 0!==e.hour&&a["set"+n+"Hours"](+e.hour),void 0!==e.minute&&a["set"+n+"Minutes"](+e.minute),void 0!==e.second&&a["set"+n+"Seconds"](+e.second);break;case"null":case"undefined":a=new Date;break;default:a=new Date(e)}return a},t.parse=function(e){var n={},a={fullYear:1,year:2,month:3,date:4,time:5,hour:6,minute:7,second:8},o=/((\d{4})-(\d{2})-(\d{2}))?\s?((\d{2}):(\d{2}):(\d{2}))?/;if(~e.indexOf("GMT")){var r=e.split(/\W\D?/);n.year=r[3],n.month="xxanebarprayunulugepctovec".indexOf(r[2])/2,n.date=r[1],n.hour=r[4],n.minute=r[5],n.second=r[6];r[8]}else{if(~e.indexOf("T"))return new Date(e);if(!o.test(e))return Date(e);var s=o.exec(e);for(var i in a)n[i]=s[a[i]]}return t.from(n)},t.prototype.now=function(){return Date.now()},t.TIME_AGO={prefix:"",suffix:" ago",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years"},t.prototype.ago=function(){function e(e,n){return n=Math.abs(Math.round(n)),t.TIME_AGO[e]&&t.TIME_AGO[e].replace(/%d/i,n)}var n=(new Date-this.date)/1e3,a=n/60,o=a/60,r=o/24,s=r/30,i=r/365;return t.TIME_AGO.prefix+(n<45&&e("seconds",n)||n<90&&e("minute",1)||a<45&&e("minutes",a)||a<90&&e("hour",1)||o<24&&e("hours",o)||o<42&&e("day",1)||r<30&&e("days",r)||r<45&&e("month",1)||r<365&&e("months",s)||i<1.5&&e("year",1)||e("years",i))+t.TIME_AGO.suffix},t.prototype.offset=function(t){var e=+this.date;return this.date=new Date(e+t),this},t.prototype.addSeconds=function(t){return this.offset(1e3*t)},t.prototype.addMinutes=function(t){return this.addSeconds(60*t)},t.prototype.addHours=function(t){return this.addMinutes(60*t)},t.prototype.addDays=function(t){return this.addHours(24*t)},t.prototype.toString=function(t){if(void 0===t)return this.date.toString();var e={"M+":this.date.getMonth()+1,"d+":this.date.getDate(),"h+":this.date.getHours()%12==0?12:this.date.getHours()%12,"H+":this.date.getHours(),"m+":this.date.getMinutes(),"s+":this.date.getSeconds(),"q+":Math.floor((this.date.getMonth()+3)/3),S:this.date.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.date.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},module.exports=t});
